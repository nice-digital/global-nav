/* stylelint-disable no-descending-specificity */

@import '~@nice-digital/nds-core/scss/core';
@import '../../header-settings';
@import '../../../Common.module.scss';
@import '../Nav.module.scss';

.menuList {
  @extend .menuList;
}

// IE11 needs width declaring explicitly to text wrap properly under flexbox
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  ul[aria-labelledby='header-menu-button'] .menuList li {
    flex-basis: 100%;
  }
}

a.link,
button.link {
  @extend .linkStyling;
  column-gap: rem($nds-spacing-small);
  padding: rem($nds-spacing-small);

  &:visited {
    color: $nds-colour-nice-white !important;
  }

  &[aria-current='true'],
  &:hover {
    color: $nds-colour-nice-black !important;
  }

  // reduce chevron size on smaller viewport to prevent back-to-top floating issue when site is wider than content
  svg {
    max-height: 0.8rem;
    max-width: 0.8rem;
  }

  @include mq($from: lg) {
    padding: rem($nds-spacing-medium);

    svg {
      max-height: 1rem;
      max-width: 1rem;
    }
  }
}

.dropdown {
  background-color: $nds-colour-body;
  box-shadow: 0 rem($nds-spacing-small) rem($nds-spacing-small) 0
    rgba(0, 0, 0, 0.1);
  display: none;
  left: 0;
  position: relative;
  width: 100%;
  z-index: $base-z-index;

  &.active {
    display: block;
  }

  @include mq($from: md) {
    position: absolute;
  }
}

.icon {
  flex-shrink: 0;
  margin-left: rem($nds-spacing-x-small);
  @include mq($from: md) {
    margin-left: 0;
  }
}

.nonJsDropdown {
  background-color: $nds-colour-nice-teal;
  display: none;
  list-style: none;
  padding: rem($nds-spacing-small);
  position: absolute;

  a {
    color: $nds-colour-nice-white;
  }

  &:target {
    display: block;
  }
}
